<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Law Chatbot with Animation</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .hero {
      background-image: url('freepik__upload__34786.jpeg');
      background-size: cover;
      background-position: center;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
      padding: 100px 20px;
    }
    .feature-icon {
      font-size: 3rem;
      color: #0d6efd;
    }
    .footer {
      background: #f8f9fa;
      padding: 20px 0;
    }
    .chat-container {
      background: #f1f1f1;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .message-box {
      height: 300px;
      overflow-y: auto;
      background: #fff;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      margin-bottom: 10px;
    }
    .message-box p {
      padding: 8px 12px;
      border-radius: 5px;
      margin-bottom: 10px;
    }
    .message-box p.user {
      background-color: #d1e7dd;
      text-align: right;
    }
    .message-box p.bot {
      background-color: #cce5ff;
      text-align: left;
    }
    .input-container input {
      width: 85%;
    }
    .chat-input {
      width: calc(100% - 80px);
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .chat-btn {
      width: 70px;
      padding: 10px;
      border: none;
      background: #0d6efd;
      color: #fff;
      border-radius: 4px;
      cursor: pointer;
    }
    .chat-btn:hover {
      background: #0b5ed7;
    }
    .quick-questions {
      margin-bottom: 15px;
    }
    .quick-questions button {
      margin: 5px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

 
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">Law Chatbot</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="dashboard.html">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="login.html">Login</a>
          </li>
         
        </ul>



      </div>
    </div>
  </nav>

<header class="hero text-center">
    <div class="container">
      <h1>AI-Powered Law Chatbot</h1>
      <p class="lead">Get answers to your legal questions instantly!</p>
    </div>
  </header>

  
  <section class="py-5">
    <div class="container text-center">
      <h2 class="mb-4">Our Features</h2>
      <div class="row">
        <div class="col-md-4">
          <div class="feature-icon mb-3">
            <i class="bi bi-bar-chart-line"></i>
          </div>
          <h5>Data-Driven Insights</h5>

          <p>
       
Analyzing historical case outcomes identifies patterns and trends, while tracking lawyers' success rates across case types helps evaluate their effectiveness. This data-driven approach improves decision-making for clients and law firms, optimizing strategies for better results.
            
              
      
          </p>         </div>
        <div class="col-md-4">
          <div class="feature-icon mb-3">
            <i class="bi bi-shield-check"></i>
          </div>
          <h5>Enhanced Security</h5>

          <p>Enhanced security in legal systems involves multiple measures to protect sensitive data and ensure safe operations. Key practices include encrypting legal data, implementing access controls to restrict unauthorized access, and using multi-factor authentication for added security.        </p></div>
        <div class="col-md-4">
          <div class="feature-icon mb-3">
            <i class="bi bi-graph-up-arrow"></i>
          </div>
          <h5>Real-Time Monitoring</h5>
          <p>Real-time monitoring in legal systems involves tracking ongoing cases, court activities, and legal updates instantly. It enables live updates on case statuses, hearings, and regulatory change</p>
        </div>
      </div>
    </div>
  </section>

  <section class="py-5">
    <div class="container">
      <div class="chat-container">
        <h3 class="text-center">Law Chatbot</h3>
  
        <!-- Quick-Click Questions Section -->
        <div class="quick-questions text-center">
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is the legal age for marriage?')">Legal Age for Marriage</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('How to file a property dispute case?')">Property Dispute Case</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What are the steps to get a divorce?')">Divorce Procedure</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('How to apply for a patent?')">Apply for a Patent</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is Section 302 of IPC?')">Section 302 - Murder</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is Section 498A of IPC?')">Section 498A - Dowry Harassment</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('How to file a defamation lawsuit?')">Defamation Lawsuit</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is Section 377 of IPC?')">Section 377 - Unnatural Offences</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What are the grounds for annulment of marriage?')">Annulment of Marriage</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('How can I protect my intellectual property?')">Intellectual Property Protection</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is the procedure for filing a divorce in India?')">Divorce Procedure in India</button>
          <button class="btn btn-secondary" onclick="setQuickQuestion('What is the right to information (RTI)?')">Right to Information (RTI)</button>
        </div>
  
        <div id="chat-box" class="message-box">
          <!-- Messages will appear here -->
        </div>
  
        <div class="input-container d-flex">
          <input type="text" id="user-input" class="form-control" placeholder="Ask a legal question...">
          <button id="send-btn" class="btn btn-primary ms-2">Send</button>
        </div>
      </div>
    </div>
  </section>
  

  <footer class="footer text-center">
    <div class="container">
      <p>&copy; 2024 Law Chatbot | All Rights Reserved.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    function typeMessage(element, message, delay = 40) {
      let currentIndex = 0;
      element.innerHTML = ''; // Clear previous messages
      function typingEffect() {
        if (currentIndex < message.length) {
          element.innerHTML += message.charAt(currentIndex);
          currentIndex++;
          setTimeout(typingEffect, delay); // Adjust the delay to control typing speed
        }
      }
      typingEffect();
    }

    // Function to format and clean the response
    function formatResponse(responseText) {
      responseText = responseText.replace(/\*+\s?/g, ''); // Remove stars (*, **, ***)
      
      // Ensure each point starts on a new line (using actual line breaks)
      responseText = responseText.replace(/\d+\./g, '$&');  // Replace point numbers with <br> before them
      
      return responseText;
    }

    // Function to ensure the response is complete
    function limitWords(responseText, wordLimit = 50) {
      const words = responseText.split(' ');
      if (words.length > wordLimit) {
        return words.slice(0, wordLimit).join(' ') + '...'; // Limit to 50 words and append ellipsis
      }
      return responseText;
    }

    // Set quick question into input field
    function setQuickQuestion(question) {
      document.getElementById('user-input').value = question;
    }

    // Chatbot functionality
    document.getElementById('send-btn').addEventListener('click', async function () {
      const userInput = document.getElementById('user-input').value;
      if (!userInput.trim()) {
        alert("Please enter a question!");
        return;
      }

      // Display the user's message
      const chatBox = document.getElementById('chat-box');
      chatBox.innerHTML += `<p class="user">${userInput}</p>`;

      // Clear the input field
      document.getElementById('user-input').value = '';

      // Make a request to the backend
      try {
        const response = await axios.post('/get-answer', { prompt: userInput });
        let answer = response.data.answer || "Sorry, I couldn't understand that. Please ask a valid legal question.";

        // Clean up and format the response
        answer = formatResponse(answer);

        // Limit the answer to 50 words
        answer = limitWords(answer);

        // Display the bot's response with animation
        const botMessageElement = document.createElement('p');
        botMessageElement.classList.add('bot');
        chatBox.appendChild(botMessageElement);
        typeMessage(botMessageElement, answer);

        chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the bottom
      } catch (error) {
        console.error('Error during API call:', error);
        const botMessageElement = document.createElement('p');
        botMessageElement.classList.add('bot');
        botMessageElement.textContent = "Sorry, there was an issue. Please try again later.";
        chatBox.appendChild(botMessageElement);
        chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the bottom
      }
    });
  </script>

</body>
</html>
